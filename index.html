<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>900MHz</title>

        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
            crossorigin="anonymous">

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
            crossorigin="anonymous"></script>

        <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js"></script>
        

        
        <link href="layout.css" rel="stylesheet">

    </head>
    <body>

        <div className="container-fluid ">

            <div class="row ROW">
                <!-- Modal -->
                <div class="modal fade " id="ContentModal"
                    data-bs-backdrop="static" data-bs-keyboard="false"
                    tabindex="-1" aria-labelledby="staticBackdropLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content "
                            style="background-color: rgb(10,10,10)!important;">

                            <div class="modal-body">

                                <div class="row ">
                                    <img src="media/intro.png" class="w-100">
                                </div>

                                <div class="row m-3 justify-content-center">

                                    <button
                                        id="Modal_button"
                                        class='col-6  btn  orange'
                                        onClick="CloseModal()">確認</button>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row ROW">
                <!-- Modal -->
                <div class="modal fade " id="MSGModal"
                    data-bs-backdrop="static" data-bs-keyboard="false"
                    tabindex="-1" aria-labelledby="staticBackdropLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content  bg-black ">
                            <div class="modal-header ">
                                <h5 class="modal-title "
                                    id="staticBackdropLabel"> New Message</h5>
                                <button type="button" class="btn-close"
                                    data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body ">

                                <div class="row  justify-content-center mt-2 "
                                    style="height: 5vw;">
                                    <div class="col-1 position-relative">
                                        <img src="media/1.png"
                                            class="Rseg1 display">
                                        <img src="media/2.png"
                                            class="Rseg1 display">
                                        <img src="media/3.png"
                                            class="Rseg1 display">
                                        <img src="media/4.png"
                                            class="Rseg1 display">
                                        <img src="media/5.png"
                                            class="Rseg1 display">
                                        <img src="media/6.png"
                                            class="Rseg1 display">
                                        <img src="media/7.png"
                                            class="Rseg1 display">
                                    </div>
                                    <div class="col-1 position-relative">
                                        <img src="media/1.png"
                                            class="Rseg2 display">
                                        <img src="media/2.png"
                                            class="Rseg2 display">
                                        <img src="media/3.png"
                                            class="Rseg2 display">
                                        <img src="media/4.png"
                                            class="Rseg2 display">
                                        <img src="media/5.png"
                                            class="Rseg2 display">
                                        <img src="media/6.png"
                                            class="Rseg2 display">
                                        <img src="media/7.png"
                                            class="Rseg2 display">
                                    </div>

                                    <div class="col-1 position-relative">
                                        <img src="media/1.png"
                                            class="Rseg3 display">
                                        <img src="media/2.png"
                                            class="Rseg3 display">
                                        <img src="media/3.png"
                                            class="Rseg3 display">
                                        <img src="media/4.png"
                                            class="Rseg3 display">
                                        <img src="media/5.png"
                                            class="Rseg3 display">
                                        <img src="media/6.png"
                                            class="Rseg3 display">
                                        <img src="media/7.png"
                                            class="Rseg3 display">
                                    </div>

                                    <div class="col-1 position-relative">
                                        <img src="media/1.png"
                                            class="Rseg4 display">
                                        <img src="media/2.png"
                                            class="Rseg4 display">
                                        <img src="media/3.png"
                                            class="Rseg4 display">
                                        <img src="media/4.png"
                                            class="Rseg4 display">
                                        <img src="media/5.png"
                                            class="Rseg4 display">
                                        <img src="media/6.png"
                                            class="Rseg4 display">
                                        <img src="media/7.png"
                                            class="Rseg4 display">
                                    </div>

                                    <div class="col-1 position-relative">
                                        <img src="media/1.png"
                                            class="Rseg5 display">
                                        <img src="media/2.png"
                                            class="Rseg5 display">
                                        <img src="media/3.png"
                                            class="Rseg5 display">
                                        <img src="media/4.png"
                                            class="Rseg5 display">
                                        <img src="media/5.png"
                                            class="Rseg5 display">
                                        <img src="media/6.png"
                                            class="Rseg5 display">
                                        <img src="media/7.png"
                                            class="Rseg5 display">
                                    </div>

                                    <div class="col-1 position-relative">
                                        <img src="media/1.png"
                                            class="Rseg6 display">
                                        <img src="media/2.png"
                                            class="Rseg6 display">
                                        <img src="media/3.png"
                                            class="Rseg6 display">
                                        <img src="media/4.png"
                                            class="Rseg6 display">
                                        <img src="media/5.png"
                                            class="Rseg6 display">
                                        <img src="media/6.png"
                                            class="Rseg6 display">
                                        <img src="media/7.png"
                                            class="Rseg6 display">
                                    </div>

                                    <div class="col-1 position-relative">
                                        <img src="media/1.png"
                                            class="Rseg7 display">
                                        <img src="media/2.png"
                                            class="Rseg7 display">
                                        <img src="media/3.png"
                                            class="Rseg7 display">
                                        <img src="media/4.png"
                                            class="Rseg7 display">
                                        <img src="media/5.png"
                                            class="Rseg7 display">
                                        <img src="media/6.png"
                                            class="Rseg7 display">
                                        <img src="media/7.png"
                                            class="Rseg7 display">
                                    </div>
                                </div>

                            </div>
                            <div class="row justify-content-center m-4 ">
                                <button type="button" class="col-5 btn  orange"
                                    data-bs-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row ROW">
                <h1 class="text-center text-light mt-5 ">900 MHz</h1>
            </div>

            <div class="row ROW">
                <div class="text-center text-light">ver 25.1.28</div>
            </div>

            <div class="row ROW  Number_Viewer justify-content-center mt-5 " >
                <div class="col-1 position-relative">
                    <img src="media/1.png" class="seg1 display">
                    <img src="media/2.png" class="seg1 display">
                    <img src="media/3.png" class="seg1 display">
                    <img src="media/4.png" class="seg1 display">
                    <img src="media/5.png" class="seg1 display">
                    <img src="media/6.png" class="seg1 display">
                    <img src="media/7.png" class="seg1 display">
                </div>
                <div class="col-1 position-relative">
                    <img src="media/1.png" class="seg2 display">
                    <img src="media/2.png" class="seg2 display">
                    <img src="media/3.png" class="seg2 display">
                    <img src="media/4.png" class="seg2 display">
                    <img src="media/5.png" class="seg2 display">
                    <img src="media/6.png" class="seg2 display">
                    <img src="media/7.png" class="seg2 display">
                </div>
                <div class="col-1 position-relative">
                    <img src="media/1.png" class="seg3 display">
                    <img src="media/2.png" class="seg3 display">
                    <img src="media/3.png" class="seg3 display">
                    <img src="media/4.png" class="seg3 display">
                    <img src="media/5.png" class="seg3 display">
                    <img src="media/6.png" class="seg3 display">
                    <img src="media/7.png" class="seg3 display">
                </div>

                <div class="col-1 position-relative">
                    <img src="media/1.png" class="seg4 display">
                    <img src="media/2.png" class="seg4 display">
                    <img src="media/3.png" class="seg4 display">
                    <img src="media/4.png" class="seg4 display">
                    <img src="media/5.png" class="seg4 display">
                    <img src="media/6.png" class="seg4 display">
                    <img src="media/7.png" class="seg4 display">
                </div>

                <div class="col-1 position-relative">
                    <img src="media/1.png" class="seg5 display">
                    <img src="media/2.png" class="seg5 display">
                    <img src="media/3.png" class="seg5 display">
                    <img src="media/4.png" class="seg5 display">
                    <img src="media/5.png" class="seg5 display">
                    <img src="media/6.png" class="seg5 display">
                    <img src="media/7.png" class="seg5 display">
                </div>

                <div class="col-1 position-relative">
                    <img src="media/1.png" class="seg6 display">
                    <img src="media/2.png" class="seg6 display">
                    <img src="media/3.png" class="seg6 display">
                    <img src="media/4.png" class="seg6 display">
                    <img src="media/5.png" class="seg6 display">
                    <img src="media/6.png" class="seg6 display">
                    <img src="media/7.png" class="seg6 display">
                </div>

                <div class="col-1 position-relative">
                    <img src="media/1.png" class="seg7 display">
                    <img src="media/2.png" class="seg7 display">
                    <img src="media/3.png" class="seg7 display">
                    <img src="media/4.png" class="seg7 display">
                    <img src="media/5.png" class="seg7 display">
                    <img src="media/6.png" class="seg7 display">
                    <img src="media/7.png" class="seg7 display">
                </div>

            </div>

            <div class="row ROW   justify-content-center " style="height: 100px;">
                <div class="col-8  CanvasParent position-relative"></div>
            </div>

            <div class="row  ROW justify-content-center " style="height: 100px;">

                <button
                    class='Index_Button col-2 col-sm-2 col-md-1 col-lg-1  btn  z-2'
                    onClick="ClickLeft()"><img src="media/left.png"
                        class="w-100"></button>

                <div class="col-6"></div>

                <button
                    class='Index_Button col-2 col-sm-2 col-md-1 col-lg-1  btn  z-2'
                    onClick="ClickRight()"
                    style="font-size: 50px; color: rgb(254, 208, 116);"><img
                        src="media/right.png" class="w-100"></button>
            </div>

            <div class="row ROW justify-content-center"
                style="height: 20vw;"></div>

            <div class="row ROW mt-5 justify-content-center">

                <button
                    id="send_button"
                    class='col-6  btn  orange'
                    onClick="SendValue()">傳送 | SEND</button>

            </div>

            <div class="row ROW mt-4 justify-content-center ">

                <button
                    class='col-12  btn '><a
                        href="https://chunred.github.io/No-Side-Here/"
                        style="color: rgb(240, 210, 120)">@ No Side Here</a></button>

            </div>
            <div class="BG-Left" ></div>
            <div class="BG-Right" ></div>
        </div>

        <script>

            // show intro menu
            let myModal = new bootstrap.Modal(document.getElementById('ContentModal'), {keyboard: false})
            myModal.show();



            // show menu button after 3 seconds.
            document.getElementById('Modal_button').style.display = 'none';
            setTimeout(() => {
                document.getElementById('Modal_button').style.display = 'block';
            }, 3000);

            function CloseModal(){
                myModal.hide();
                alert("維護考量已暫停後台互動運作, 僅保留前端介面操作")
            }



            //global value
            let StringValue = '';
            let index = 0;
            let Stop_MSG = false;
            let fine_value = [
                [0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0],
            ];

            
            


            function Get_MSG(msg){
                let newmsg = msg.split(',');
                for(let i = 0; i < 7; i++){
                    let UI = document.querySelectorAll('.Rseg' + (i+1).toString());
                    for (let j = 0; j < UI.length; j++) {
                        UI[j].style.opacity = 0.3 + (newmsg[i][j] * 0.7);
                    }
                }
                $('#MSGModal').modal('show');
            }



            function IndexIcon(){
                let UI = document.querySelectorAll('.seg' + (index+1).toString());
                for(let i = 0; i < 7; i++){
                    UI[i].style.opacity = 0.6;
                }
            }
            IndexIcon();






            function ClickRight(){
                fine_value[index] = segmentStates;
                if(index < 6) index += 1;
                else index = 0;
                Reset (); 
                IndexIcon();
            }


            function ClickLeft(){
                fine_value[index] = segmentStates;
                if(index > 0) index -=1;
                else index = 6;
                Reset ();
                IndexIcon();
            }

            


            function SendValue(){

                fine_value[index] = segmentStates;
                let value = segmentStates.toString();
                StringValue = '';

                for(let i=0; i<7; i++){
                    for(let j=0; j<7; j++){
                        StringValue += fine_value[i][j];
                    }
                    StringValue += ',';
                }

                if(StringValue == "0000000,0000000,0000000,0000000,0000000,0000000,0000000,"){
                    alert("請輸入數值！");
                }
                else{
                    Get_MSG(StringValue);
                }
            }

        </script>
        <script src="main.js"></script>
    </body>
</html>